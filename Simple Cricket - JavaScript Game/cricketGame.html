<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cricket Game</title>
  <link rel="stylesheet" href="cricket.css">
  <header><h1>Cricket Game</h1></header>
</head>
<body>
    <!--scores feature-->
  <div id="score">
    <button id="user">User: 0</button>
    <button id="tie">Tie: 0</button>
    <button id="Computer">Computer: 0</button>
  </div>

  <div id="game">
    <!-- Bat Button -->
    <button id="one" class="button" onclick="
      resultMsg=getResult('Bat',generateComputerChoice());
      updateScore(resultMsg);
      showResult('Bat', computerChoice,resultMsg);
      
    ">Bat</button>

    <!-- Ball Button -->
    <button id="two" class="button" onclick="
      resultMsg=getResult('Ball',generateComputerChoice());
      showResult('Ball', computerChoice,resultMsg);
      updateScore(resultMsg);
    ">Ball</button>

    <!-- Stump Button -->
    <button id="three" class="button" onclick="
      resultMsg=getResult('Stump',generateComputerChoice());
      showResult('Stump', computerChoice,resultMsg);
      updateScore(resultMsg);
    ">Stump</button>
  </div>

  <script>
    let userwins = 0;
    let ties = 0;
    let compwins = 0;
    let computerChoice;
    let resultMsg;
    function generateComputerChoice(){
      let randomNumber = Math.random() * 3;
      
      if(randomNumber > 0 && randomNumber <= 1){
        computerChoice = 'Bat';
      } else if(randomNumber > 1 && randomNumber <= 2 ){
        computerChoice = 'Ball';
      } else if(randomNumber > 2 && randomNumber <= 3){
        computerChoice = 'Stump';
      }
      return computerChoice;

    }

    function getResult(userChoice, computerChoice){
      if(userChoice==='Bat'){
        if(computerChoice==='Ball'){
          return 'User Won!';
        } else if(computerChoice==='Bat'){
          return "It's a tie";
        } else if(computerChoice==='Stump'){
          return('Computer Won!');
        }
      }else if(userChoice==='Ball'){
          if(computerChoice==='Ball'){
          return "It's a tie";
        } else if(computerChoice==='Bat'){
          return "Computer Won!";
        } else if(computerChoice==='Stump'){
          return('User Won!');
        }  
      }else {
        if(computerChoice==='Ball'){
          return "Computer Won!";
        } else if(computerChoice==='Bat'){
          return "User Won!";
        } else if(computerChoice==='Stump'){
          return("It's a tie");
        }  
      }
    }

    function updateScore(resultMsg) {
      if (resultMsg === "User Won!") {
        userwins++;
        document.querySelector("#user").textContent = `User: ${userwins}`;
      } else if (resultMsg === "Computer Won!") {
        compwins++;
        document.querySelector("#Computer").textContent = `Computer: ${compwins}`;
      } else if (resultMsg === "It's a tie") {
        ties++;
        document.querySelector("#tie").textContent = `Tie: ${ties}`;
      }
    }

    function showResult(userChoice, ComputerChoice, result){
      alert(`You have chosen ${userChoice} and Computer has chosen ${ComputerChoice}. ${result}`)
    }
  </script>
</body>
</html>
